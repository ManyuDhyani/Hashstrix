{% extends 'base.html' %}
    {% block title %}
    <title>
         Settings
    </title>
    {% endblock %}
{% load crispy_forms_tags %}

{% block content %}
<style>
 body{
    margin-top:20px;
    color: #1a202c;
    text-align: left;
    background-color: #e2e8f0;
}
.main-body {
    padding: 15px;
}

.nav-link {
    color: #4a5568;
}
.card {
    box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgba(0,0,0,.125);
    border-radius: .25rem;
}

.card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
}

.gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
    padding-right: 8px;
    padding-left: 8px;
}
.mb-3, .my-3 {
    margin-bottom: 1rem!important;
}

.bg-gray-300 {
    background-color: #e2e8f0;
}
.h-100 {
    height: 100%!important;
}
.shadow-none {
    box-shadow: none!important;
}
.profile-userpic img {
  width: 150px;
  height: 150px;
  -webkit-border-radius: 50% !important;
  margin: 20px;

  object-fit: cover;
  object-position: center right;
}
</style>
    <div class="container">

          <!-- Breadcrumb -->
          <nav aria-label="breadcrumb" class="main-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="{% url 'profile:account_login' %}">Overview</a></li>
              <li class="breadcrumb-item"><a href="{% url 'how-it-works' %}">Help</a></li>
              <li class="breadcrumb-item active" aria-current="page">Profile Settings</li>
            </ol>
          </nav>
          <!-- /Breadcrumb -->

            {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                  {% if message.tags == "error" %}
                      {% if forloop.last %}
                        <p class="alert alert-danger">{{ message }}</p>
                      {% endif %}
                  {% endif %}
                {% endfor %}
            </ul>
          {% endif %}

          <div class="row gutters-sm">
            <div class="col-md-4 d-none d-md-block">
              <div class="card">
                <div class="card-body">
                  <nav class="nav flex-column nav-pills nav-gap-y-1">
                    <a href="#profile" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded active">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user mr-2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>Profile Information
                    </a>
                    <a href="#account" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings mr-2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>Account Settings
                    </a>
                    <a href="#security" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield mr-2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>Security
                    </a>
                  </nav>
                </div>
              </div>
            </div>
            <div class="col-md-8">
              <div class="card">
                <div class="card-header border-bottom mb-3 d-flex d-md-none">
                  <ul class="nav nav-tabs card-header-tabs nav-gap-x-1" role="tablist">
                    <li class="nav-item">
                      <a href="#profile" data-toggle="tab" class="nav-link has-icon active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></a>
                    </li>
                    <li class="nav-item">
                      <a href="#account" data-toggle="tab" class="nav-link has-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></a>
                    </li>
                    <li class="nav-item">
                      <a href="#security" data-toggle="tab" class="nav-link has-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg></a>
                    </li>
                  </ul>
                </div>
                <div class="card-body tab-content">
                  <div class="tab-pane active" id="profile">
                    <h6>YOUR PROFILE INFORMATION</h6>
                    <hr>
                    <form action="." method="POST" enctype="multipart/form-data">
                      {% csrf_token %}
                      <div class="form-group text-center">
                      <div class="profile-userpic">
                        <img src="{{ profile.author.profile_picture.url }}" class="img-responsive" alt="">
                      </div>
                        {{profile_picture_form|crispy}}
                        <button name="profile" value="profile_picture" type="submit" class="btn btn-primary">Update Picture</button>
                      </div>
                      <hr>
                      <div class="form-group">
                        <label for="bio">Your Bio</label>
                        {{form.bio|default_if_none:'Enter your Bio(Optional)'}}
                        <span id="rchars">100 Characters Limit</span>
                      </div>
                      <div class="form-group">
                        <label for="url">Website/Link 1</label>
                        <input name="link1" type="text" class="form-control" id="url" placeholder="Enter your website/link address (Optional)" value="{{form.link1.value|default_if_none:''}}">
                      </div>
                      <div class="form-group">
                        <label for="url">Website/Link 2</label>
                        <input name="link2" type="text" class="form-control" id="url" placeholder="Enter your website/link address (Optional)" value="{{form.link2.value|default_if_none:''}}">
                      </div>
                      <div class="form-group">
                        <label for="url">Linkedin</label>
                        <input name="linkedin" type="text" class="form-control" id="url" placeholder="Enter your linkedin Profile (Optional)" value="{{form.linkedin.value|default_if_none:''}}">
                      </div>
                      <div class="form-group">
                        <label for="url">Youtube</label>
                        <input name="youtube" type="text" class="form-control" id="url" placeholder="Enter your youtube Channel (Optional)" value="{{form.youtube.value|default_if_none:''}}">
                      </div>
                      <div class="form-group">
                        <label for="location">Location</label>
                        <input name="location" type="text" class="form-control" id="location" placeholder="Currently Living In? (Optional)" value="{{form.location.value|default_if_none:''}}">
                      </div>
                      <div class="form-group small text-muted">
                        All of the fields on this page are optional and can be deleted at any time, and by filling them out you're are displaying this information in your user profile. All fields have character limit of 100.
                      </div>
                      <button name="profile" value="profile_details" type="submit" class="btn btn-primary">Update Profile</button>
                    </form>
                  </div>
                  <div class="tab-pane" id="account">
                    <h6>ACCOUNT SETTINGS</h6>
                    <hr>
                    <form action="#account" method="POST">
                      {% csrf_token %}
                      <div class="form-group">
                        <label for="username">Username</label>
                        <input name="username" type="text" class="form-control" id="username" aria-describedby="usernameHelp" placeholder="Enter your username" value="{{account_form.username.value|default_if_none:''}}">
                        <small id="usernameHelp" class="form-text text-muted">After changing your username, your old username becomes available for anyone else to claim.</small>
                      </div>
                      <div class="form-group">
                        <label for="username">First Name</label>
                        <input name="first_name" type="text" class="form-control" id="firstname" aria-describedby="usernameHelp" placeholder="Enter your First Name (Optional)" value="{{account_form.first_name.value|default_if_none:''}}">
                      </div>
                      <div class="form-group">
                        <label for="username">Last Name</label>
                        <input name="last_name" type="text" class="form-control" id="lastname" aria-describedby="usernameHelp" placeholder="Enter your Last Name (Optional)" value="{{account_form.last_name.value|default_if_none:''}}">
                      </div>
                      <button name="account" type="submit" class="btn btn-primary">Update Account Information</button>
                    </form>
                    <hr>
                    <div class="form-group">
                      <label for="username">Email Settings:</label> <a href="{% url 'account_email' %}">Account Email </a>
                        <small id="usernameHelp" class="form-text text-muted">Change, Add, Verify, Remove or Check current email(s).</small>
                    </div>
                    <hr>
                    <form action="" method="POST">
                      {% csrf_token %}
                      <div class="form-group">
                        <label class="d-block text-danger">Delete Account</label>
                        <p class="text-muted font-size-sm">Once you delete your account, there is no going back. All data will be lost. Please be certain.</p>
                      </div>
                      <button name="delete" value="{{request.user.username}}" class="btn btn-danger" type="submit">Delete Account</button>
                    </form>
                  </div>
                  <div class="tab-pane" id="security">
                    <h6>SECURITY SETTINGS</h6>
                    <hr>
                    <form action="." method="POST">
                      {% csrf_token %}
                      <div class="form-group">
                        {{password_form|crispy}}
                      </div>
                        <button name="password" type="submit" class="btn btn-primary">Change Password</button>
                    </form>
                    <hr>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
{% endblock content %}
